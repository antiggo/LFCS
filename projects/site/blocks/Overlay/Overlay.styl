

.Overlay {
    border-radius: 20px;
    overflow: hidden;

    &__topBarTitles {
        padding: 0 16px;
    }

    &__bottombar {
            height: 20px;
    width: 100%;
    background: red;
    position: absolute;
    bottom: 0;
    z-index: 999;
    }
}

overlay__background {
    border-radius: 8px !important;
}

.Overlay__topBarActionClose {
    opacity: 1;
    font-size: 140px;
    transform: rotate(-45deg);
    /*background: #fff;*/
    /*border-radius: 100%;*/
    /*box-shadow: 0 2px 6px 0 rgba(0,0,0,.2);*/
}

@media screen-phone 
    .Overlay__topBarActionClose
        font-size 80px
                



.Overlay
    topbar-height = 80px
    animation-time = 320ms

    /**
     * Style
     */
    position absolute
    z-index 2

    &_Type
        &_side
            top 0
            bottom 0
            width 100vw

            &.Overlay_State
                &_active
                    animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlaySidePush
                    animation-timing-function ease-in-out
                &_release
                    animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlaySidePop
                    animation-timing-function ease-in-out

        &_sideBottom
            top 18px
            bottom 0
            left 0
            right 0
            margin 0 auto
            width 100vw
            border-radius 20px 20px 0 0 !important

            .overlay__content {
                top: topbar-height;
            }
            
            @media screen-phone
                .overlay__content
                    top 40px



            &.Overlay_State
                &_active
                    animation-duration animation-time
                    animation-fill-mode forwards

                    animation-name OverlayBottomPush
                    /*animation-timing-function ease-in-out*/

                    animation-timing-function: cubic-bezier(0.11, 0.045, 0.185, 1);

                &_release

                    animation-duration animation-time

                    animation-fill-mode forwards

                    animation-name OverlayBottomPop
                    /*animation-timing-function ease-in-out*/
                    
                    animation-timing-function: cubic-bezier(0.11, 0.045, 0.185, 1);

        &_expand
            top 0
            bottom 0
            width 100vw

            &.Overlay_State
                &_active
                    .overlay__background
                        animation-duration animation-time
                        animation-fill-mode forwards
                        animation-name OverlayBackgroundExpandPush
                        animation-timing-function ease-in-out
                    .overlay__topbar
                        animation-duration animation-time
                        animation-fill-mode forwards
                        animation-name OverlayTopBarExpandPush
                        animation-timing-function ease-in-out
                &_release
                    .overlay__background
                        animation-duration animation-time
                        animation-fill-mode forwards
                        animation-name OverlayBackgroundExpandPop
                        animation-timing-function ease-in-out
                    .overlay__topbar
                        animation-duration animation-time
                        animation-fill-mode forwards
                        animation-name OverlayTopBarExpandPop
                        animation-timing-function ease-in-out

        &_partsideleft
            top 0
            bottom 0

            &.Overlay_State
                &_active
                    animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlayPartsideleftPush
                    animation-timing-function ease-in-out
                &_release
                    animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlayPartsideleftPop
                    animation-timing-function ease-in-out

        &_custom
            top 0
            bottom 0
            width 100vw

            &.Overlay_State
                &_active
                    animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlayCustomPush
                    animation-timing-function ease-in-out
                &_release
                    animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlayCustomPop
                    animation-timing-function ease-in-out

        &_modal
            left 50%
            min-height 300px
            margin 100px 0

            &.Overlay_State
                &_active
                    animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlayModalPush
                    animation-timing-function ease-in-out
                &_release
                    animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlayModalPop
                    animation-timing-function ease-in-out

            .Overlay__background
            .Overlay__content
                border-radius radius-outside

            .Overlay__content
                position relative

        &_bottom
            left 0
            right 0
            bottom 0
            top 0

            &.Overlay_State
                &_active
                    /*animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlayBottomPush
                    animation-timing-function ease-in-out*/

                    animation-duration .300s
                    animation-name OverlayBottomPush
                    animation-timing-function: cubic-bezier(0.11, 0.045, 0.185, 1);

                &_release
                    /*animation-duration animation-time
                    animation-fill-mode forwards
                    animation-name OverlayBottomPop
                    animation-timing-function ease-in-out*/

                    animation-duration .300s
                    animation-name OverlayBottomPop
                    animation-timing-function: cubic-bezier(0.11, 0.045, 0.185, 1);

            .Overlay__background
            .Overlay__content
                /*border-radius radius-outside radius-outside 0 0*/

            .Overlay__content
                position relative

    &__topBar
        z-index 4
        position absolute
        top 0
        left 0
        right 0
        height topbar-height

        background #F1F1F1
        @media screen-phone
            height 40px

    &__topBarAction
        z-index 2
        position absolute
        top 0
        color color-link
        height topbar-height
        line-height topbar-height @css{!important}

        .icon
            vertical-align top
            width topbar-height
            height topbar-height

    &__topBarActionBack
        left 0

    &__topBarActionClose
        right 12px
        top 2px
        opacity .8
        font-weight: 100;
        &:hover
            cursor pointer
            opacity 1
        @media screen-phone
            top -15px

    &__topBarActionLabel
        display inline-block
        margin-left -1.4ex

    &__topBarTitles
        position absolute
        z-index 1
        left 0
        right 0
        top 0
        bottom 0
        text-align left
        display flex
        flex-direction column
        justify-content center

    &__background
        z-index 2
        position absolute
        top 0
        bottom 0
        left 0
        right 0
        background #F1F1F1

    &__content
        z-index 3
        position absolute
        overflow auto
        top 0
        left 0
        bottom 0
        right 0


    @keyframes OverlayExtend
        0%
            opacity 0
            transform translate3d(0px, 0px, 0px) scale(.85)
        100%
            opacity 1
            transform translate3d(0px, 0px, 0px) scale(1)

    @keyframes OverlaySidePop
        0%
            transform translate3d(0px, 0px, 0px)
        100%
            transform translate3d(100vw, 0px, 0px)

    /* Side */
    @keyframes OverlaySidePush
        0%
            transform translate3d(100vw, 0px, 0px)
        100%
            transform translate3d(0px, 0px, 0px)

    @keyframes OverlaySidePop
        0%
            transform translate3d(0px, 0px, 0px)
        100%
            transform translate3d(100vw, 0px, 0px)

    /* SideBottom */
    @keyframes OverlaySideBottomPush
        0%
            opacity 0
            transform translate3d(0px, 50vw, 0px) scale(.85)
        100%
            opacity 1
            transform translate3d(0px, 0px, 0px) scale(1)

    @keyframes OverlaySideBottomPop
        0%
            opacity 1
            transform translate3d(0px, 0px, 0px)  scale(1)
        100%
            opacity 0
            transform translate3d(0px,50vw, 0px)  scale(.85)

    /* Expand */
    @keyframes OverlayBackgroundExpandPush
        0%
            opacity 0
        100%
            opacity 1

    @keyframes OverlayBackgroundExpandPop
        0%
            opacity 1
        100%
            opacity 0

    @keyframes OverlayTopBarExpandPush
        0%
            transform translate3d(0px, - topbar-height, 0px)
        100%
            transform translate3d(0px, 0px, 0px)

    @keyframes OverlayTopBarExpandPop
        0%
            transform translate3d(0px, 0px, 0px)
        100%
            transform translate3d(0px, - topbar-height, 0px)

    /* Partsideleft */
    @keyframes OverlayPartsideleftPush
        0%
            transform translate3d(-100vw, 0px, 0px)
        100%
            transform translate3d(0px, 0px, 0px)

    @keyframes OverlayPartsideleftPop
        0%
            transform translate3d(0px, 0px, 0px)
        100%
            transform translate3d(-100vw, 0px, 0px)

    /* Custom */
    @keyframes OverlayCustomPush
        0%
            display block
        100%
            display block

    @keyframes OverlayCustomPop
        0%
            display block
        100%
            display block

    /* Modal */
    @keyframes OverlayModalPush
        0%
            opacity 0
            transform translate3d(0px, 100px, 0px) scale(.9)
        100%
            opacity 1
            transform translate3d(0px, 0px, 0px) scale(1,1)

    @keyframes OverlayModalPop
        0%
            opacity 1
            transform translate3d(0px, 0px, 0px) scale(1,1)
        100%
            opacity 0
            transform translate3d(0px, 100px, 0px) scale(.9)

    /* Bottom */
    @keyframes OverlayBottomPush
        0%
            opacity 1
            transform translate3d(0px, 100vh, 0px)

        100%
            opacity 1
            transform translate3d(0px, 0px, 0px)

    @keyframes OverlayBottomPop
        0%
            opacity 1
            transform translate3d(0px, 0px, 0px)
        100%
            opacity 1
            transform translate3d(0px, 100vh, 0px)

